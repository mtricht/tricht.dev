<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=content-language content="en"><meta name=author content="Michael van Tricht"><meta name=description content="Are you having issues starting up a simple Spring application through systemd (or something similar)? And are you running Spring web and Spring shell together? I was, perhaps I shouldn&rsquo;t, but that&rsquo;s for later. It was crashing on boot when running through systemd but was working just fine whenever I ran it directly from the terminal.
The only difference being this warning in the logs:
 org.jline: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)"><meta name=keywords content="blog,developer,personal,resume"><meta name=twitter:card content="summary"><meta name=twitter:title content="Startup issue with systemd and Spring shell"><meta name=twitter:description content="Are you having issues starting up a simple Spring application through systemd (or something similar)? And are you running Spring web and Spring shell together? I was, perhaps I shouldn&rsquo;t, but that&rsquo;s for later. It was crashing on boot when running through systemd but was working just fine whenever I ran it directly from the terminal.
The only difference being this warning in the logs:
 org.jline: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)"><meta property="og:title" content="Startup issue with systemd and Spring shell"><meta property="og:description" content="Are you having issues starting up a simple Spring application through systemd (or something similar)? And are you running Spring web and Spring shell together? I was, perhaps I shouldn&rsquo;t, but that&rsquo;s for later. It was crashing on boot when running through systemd but was working just fine whenever I ran it directly from the terminal.
The only difference being this warning in the logs:
 org.jline: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)"><meta property="og:type" content="article"><meta property="og:url" content="https://tricht.dev/post/systemd-spring-shell/"><meta property="article:published_time" content="2019-08-03T22:11:32+02:00"><meta property="article:modified_time" content="2019-08-03T22:11:32+02:00"><base href=https://tricht.dev/post/systemd-spring-shell/><title>Startup issue with systemd and Spring shell Â· Michael van Tricht</title><link rel=canonical href=https://tricht.dev/post/systemd-spring-shell/><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.13.0/css/all.css integrity=sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=/css/coder.min.fce3d3684e836ce340cdd591dad1749c310472d5ed4049fab99845c9aec4d4bf.css integrity="sha256-/OPTaE6DbONAzdWR2tF0nDEEctXtQEn6uZhFya7E1L8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.717236c74e0a5208ef73964a9f44c6b443b689a95b270d8b2a40d0c012460dac.css integrity="sha256-cXI2x04KUgjvc5ZKn0TGtEO2ialbJw2LKkDQwBJGDaw=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/extra.css><link rel=icon type=image/png href=https://tricht.dev/images/favicon.ico sizes=32x32><link rel=icon type=image/png href=https://tricht.dev/images/favicon.ico sizes=16x16><link rel=apple-touch-icon href=https://tricht.dev/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=https://tricht.dev/images/apple-touch-icon.png><meta name=generator content="Hugo 0.74.3"></head><body class=colorscheme-dark><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Michael van Tricht</a>
<span id=dark-mode-toggle class=float-right><i class="fas fa-adjust fa-fw"></i></span><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars fa-fw"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://tricht.dev/about/>About</a></li><li class=navigation-item><a class=navigation-link href=https://tricht.dev/post/>Blog</a></li><li class="navigation-item separator"><span>|</span></li></ul></section></nav><div class=content><section class="container page"><article><header><h1>Startup issue with systemd and Spring shell</h1></header><p>Are you having issues starting up a simple Spring application through systemd (or something similar)?
And are you running Spring web and Spring shell together? I was, perhaps I shouldn&rsquo;t, but that&rsquo;s for later. It was crashing on boot when running through systemd but was working just fine whenever I ran it directly from the terminal.</p><p>The only difference being this warning in the logs:</p><blockquote><p>org.jline: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)</p></blockquote><p>It turns out that systemd doesn&rsquo;t like interactive shells very much, which Spring shell is providing us. I don&rsquo;t want a interactive shell when I&rsquo;m running my application through systemd, I only want the Spring web part. After some digging, I found out that you can disable
the interactiveness of the shell by adding the following to your <code>application.properties</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#a6e22e>spring.shell.interactive.enabled</span><span style=color:#f92672>=</span><span style=color:#e6db74>false</span>
</code></pre></div><p>Perhaps a better solution would be to separate the two into two jars or applications, but not when prototyping.</p></article></section></div><footer class=footer><section class=container></section></footer></main><script src=/js/dark-mode.min.0213e1773e6d1c5a644f847c67a6f8abac49a3776e2976f6008038af8c5b76a1.js></script><script>(function(f,a,t,h,o,m){a[h]=a[h]||function(){(a[h].q=a[h].q||[]).push(arguments)};o=f.createElement('script'),m=f.getElementsByTagName('script')[0];o.async=1;o.src=t;o.id='fathom-script';m.parentNode.insertBefore(o,m)})(document,window,'//analytics.tricht.dev/tracker.js','fathom');fathom('set','siteId','TMBWC');fathom('trackPageview');</script></body></html>