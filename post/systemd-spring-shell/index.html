<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Michael van Tricht"><meta name=description content="Michael van Tricht's personal blog"><meta name=keywords content="blog,developer,personal,resume"><meta name=twitter:card content="summary"><meta name=twitter:title content="Startup issue with systemd and Spring shell"><meta name=twitter:description content="Are you having issues starting up a simple Spring application through systemd (or something similar)? And are you running Spring web and Spring shell together? I was, perhaps I shouldn&rsquo;t, but that&rsquo;s for later. It was crashing on boot when running through systemd but was working just fine whenever I ran it directly from the terminal.
The only difference being this warning in the logs:
 org.jline: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)"><meta property="og:title" content="Startup issue with systemd and Spring shell"><meta property="og:description" content="Are you having issues starting up a simple Spring application through systemd (or something similar)? And are you running Spring web and Spring shell together? I was, perhaps I shouldn&rsquo;t, but that&rsquo;s for later. It was crashing on boot when running through systemd but was working just fine whenever I ran it directly from the terminal.
The only difference being this warning in the logs:
 org.jline: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)"><meta property="og:type" content="article"><meta property="og:url" content="https://tricht.dev/post/systemd-spring-shell/"><meta property="article:published_time" content="2019-08-03T22:11:32+02:00"><meta property="article:modified_time" content="2019-08-03T22:11:32+02:00"><base href=https://tricht.dev/post/systemd-spring-shell/><title>Startup issue with systemd and Spring shell Â· Michael van Tricht</title><link rel=canonical href=https://tricht.dev/post/systemd-spring-shell/><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.8.1/css/all.css integrity=sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=/css/coder.min.28d751104f30c16da1aa1bb04015cbe662cacfe0d1b01af4f2240ad58580069c.css integrity="sha256-KNdREE8wwW2hqhuwQBXL5mLKz+DRsBr08iQK1YWABpw=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-inverted.min.b275a7d098cfe39135a5644e9c6d811e77fc4bdeac01e8e339c7d767146340a8.css integrity="sha256-snWn0JjP45E1pWROnG2BHnf8S96sAejjOcfXZxRjQKg=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=https://tricht.dev/images/favicon.ico sizes=32x32><link rel=icon type=image/png href=https://tricht.dev/images/favicon.ico sizes=16x16><meta name=generator content="Hugo 0.74.3"></head><body class=inverted><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Michael van Tricht</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://tricht.dev/about/>About</a></li><li class=navigation-item><a class=navigation-link href=https://tricht.dev/post/>Blog</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1>Startup issue with systemd and Spring shell</h1></header><p>Are you having issues starting up a simple Spring application through systemd (or something similar)?
And are you running Spring web and Spring shell together? I was, perhaps I shouldn&rsquo;t, but that&rsquo;s for later. It was crashing on boot when running through systemd but was working just fine whenever I ran it directly from the terminal.</p><p>The only difference being this warning in the logs:</p><blockquote><p>org.jline: Unable to create a system terminal, creating a dumb terminal (enable debug logging for more information)</p></blockquote><p>It turns out that systemd doesn&rsquo;t like interactive shells very much, which Spring shell is providing us. I don&rsquo;t want a interactive shell when I&rsquo;m running my application through systemd, I only want the Spring web part. After some digging, I found out that you can disable
the interactiveness of the shell by adding the following to your <code>application.properties</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#a6e22e>spring.shell.interactive.enabled</span><span style=color:#f92672>=</span><span style=color:#e6db74>false</span>
</code></pre></div><p>Perhaps a better solution would be to separate the two into two jars or applications, but not when prototyping.</p></article></section></div><footer class=footer><section class=container></section></footer></main></body></html>